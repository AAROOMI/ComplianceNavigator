<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>Metaworks Cybersecurity Compliance Platform</title>
    <meta name="description" content="NCA ECC V1 & V2 Compliance Management with AI-powered assistance" />
    
    <!-- D-ID Interactive AI Agent -->
    <script
      type="module"
      src="https://agent.d-id.com/v1/index.js"
      data-name="did-agent"
      data-mode="fabio"
      data-client-key="YXV0aDB8NjdlZWI3NmYwOTYxZDU0Yjg2N2Y4ZWE3OkMwcExqeHpDYkl0VWt0N1dBQ056WQ=="
      data-agent-id="agt_56bnv71C"
      data-monitor="true">
    </script>
  </head>
  <body>
    <div id="root"></div>
    
    <!-- D-ID Agent Container -->
    <div id="did-agent-container" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999;"></div>
    
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- D-ID Agent Initialization -->
    <script>
      // Initialize D-ID agent when page loads
      window.addEventListener('load', function() {
        // Create agent button if not automatically created
        setTimeout(() => {
          if (!document.querySelector('[data-name="did-agent"]')) {
            const agentButton = document.createElement('button');
            agentButton.innerHTML = 'ðŸ¤– AI Assistant';
            agentButton.style.cssText = `
              position: fixed;
              bottom: 20px;
              right: 20px;
              z-index: 9999;
              background: linear-gradient(135deg, #00adb5, #00c896);
              color: white;
              border: none;
              border-radius: 50px;
              padding: 12px 20px;
              font-size: 14px;
              font-weight: 600;
              cursor: pointer;
              box-shadow: 0 4px 12px rgba(0, 173, 181, 0.3);
              transition: all 0.3s ease;
            `;
            
            agentButton.addEventListener('mouseenter', function() {
              this.style.transform = 'translateY(-2px)';
              this.style.boxShadow = '0 6px 20px rgba(0, 173, 181, 0.4)';
            });
            
            agentButton.addEventListener('mouseleave', function() {
              this.style.transform = 'translateY(0)';
              this.style.boxShadow = '0 4px 12px rgba(0, 173, 181, 0.3)';
            });
            
            agentButton.addEventListener('click', function() {
              // Try to initialize D-ID agent
              if (window.DIDAgent) {
                window.DIDAgent.init();
              } else {
                // Fallback: Open agent in new window
                window.open('https://agent.d-id.com/chat/agt_56bnv71C', '_blank', 'width=400,height=600');
              }
            });
            
            document.body.appendChild(agentButton);
          }
        }, 2000);
      });
    </script>
  </body>
</html>